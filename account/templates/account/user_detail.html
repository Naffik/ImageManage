{% extends "base.html" %}

{% load static %}

{% block content %}
<div class="content-header">
  <h1>User profile</h1>
  <p>You can see your personal information below:</p>
</div>
<section class="profile-section">
  <div class="profile-card">
    <div class="profile-info">
      <img src="{% static 'images/profile-placeholder.jpg' %}" alt="Profil" class="profile-image">
      <ul>
        <li><strong>Username:</strong> {{ user.username }}</li>
        <li><strong>Email:</strong> {{ user.email }}</li>
        <li><strong>First name:</strong> {{ user.first_name }}</li>
        <li><strong>Last name:</strong> {{ user.last_name }}</li>
        <li><strong>Account tier:</strong> {{ user.profile.account_tier.name }}</li>
        <li><strong>Number of images:</strong> {{ user.profile.image_count }}</li>
      </ul>
    </div>
    <a href="{% url 'edit' %}" class="btn-primary">Edit Profile</a>
  </div>
</section>
  <a href="#" id="back-button" class="btn-primary back-btn">Return</a>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const backButton = document.getElementById('back-button');
    backButton.addEventListener('click', function(event) {
      event.preventDefault();
      if (document.referrer && document.referrer !== window.location.href) {
        window.history.back();
      } else {
        window.location.href = "{% url 'dashboard' %}";
      }
    });
  });
</script>
{% endblock %}